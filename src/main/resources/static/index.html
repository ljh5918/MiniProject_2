<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <title>MovieSense - ë‚˜ë§Œì˜ ì˜í™” íë ˆì´í„°</title>
    <link rel="stylesheet" href="/css/style.css" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <style>
        /* [ì„ì‹œ ìŠ¤íƒ€ì¼] 3ì—´ ë ˆì´ì•„ì›ƒ ë° ëŒ“ê¸€ UIë¥¼ ìœ„í•œ ìµœì†Œí•œì˜ CSS */
        .modal-content { max-width: 1200px; width: 90%; height: 90%; margin: 5vh auto; padding: 20px; }
        .modal-layout-3col { display: grid; grid-template-columns: 25% 45% 30%; gap: 20px; height: 100%; }
        .modal-left { overflow: hidden; height: 100%; }
        .modal-detail-pane { overflow-y: auto; padding-right: 10px; }
        .modal-comment-pane { background-color: #1a1a1a; border-radius: 8px; padding: 15px; overflow-y: auto; box-shadow: inset 0 0 0px rgba(0, 0, 0, 0.5); }
        .modal-comment-pane h3 { margin-top: 0; padding-bottom: 10px; border-bottom: 1px solid #444; }
        #commentInput { width: 100%; min-height: 64px; background: #222; color: #e5e5e5; border: 1px solid #333; padding: 8px; border-radius: 6px; resize: vertical; }
        #commentSubmitBtn { margin-top: 8px; padding: 8px 12px; background: #e50914; color: #fff; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; }
    </style>
</head>
<body>

<header>
    <div class="logo" onclick="location.reload()">ğŸ¬ MovieSense</div>

    <div class="search-box">
        <input type="text" id="searchInput" placeholder="ì˜í™” ì œëª© ê²€ìƒ‰..." />
        <button onclick="searchMovies()">ğŸ”</button>
    </div>

    <div class="auth-buttons">
        <div id="guestNav">
            <a href="/login.html"><button class="btn-login">ë¡œê·¸ì¸</button></a>
            <a href="/register.html"><button class="btn-signup">íšŒì›ê°€ì…</button></a>
        </div>

        <div id="userNav" style="display: none;">
            <span id="welcomeMsg">í™˜ì˜í•©ë‹ˆë‹¤, <span id="userName">User</span>ë‹˜!</span>
            <button class="btn-mypage" onclick="location.href='/mypage.html'">â­ my</button>
            <button class="btn-logout" onclick="logout()">ë¡œê·¸ì•„ì›ƒ</button>
        </div>
    </div>
</header>

<main>
    <section id="personalSection" style="display: none;">
        <h2>âœ¨ íšŒì›ë‹˜ì„ ìœ„í•œ ì·¨í–¥ ì €ê²© ì˜í™”</h2>
        <div id="personalContainer" class="movie-grid"></div>
        <hr class="divider" />
    </section>

    <h2 id="sectionTitle">ğŸ”¥ ì‹¤ì‹œê°„ ì¸ê¸° ì˜í™”</h2>
    <div id="movieContainer" class="movie-grid"></div>
</main>

<div id="movieModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>

        <div class="modal-layout-3col">
            
            <div class="modal-left">
                <img id="modalPoster" src="" alt="í¬ìŠ¤í„°" />
            </div>

            <div class="modal-detail-pane">

                <div class="modal-header-info">
                    <h2 id="modalTitle">ì˜í™” ì œëª©</h2>
                    <button class="btn-like" onclick="toggleLike()">â™¡ ì°œí•˜ê¸°</button>
                </div>

                <div class="modal-overview-box">
                    <h3>ì¤„ê±°ë¦¬</h3>
                    <p id="modalOverview">ì¤„ê±°ë¦¬ ë‚´ìš©...</p>
                </div>

                <div class="modal-recommend-box">
                    <h3>ğŸ’¡ ì´ ì˜í™”ì™€ ë¹„ìŠ·í•œ ì‘í’ˆ</h3>
                    <div id="recommendContainer" class="recommend-grid"></div>
                </div>

            </div>
            
            <div class="modal-comment-pane">
                 <div class="comment-section-wrapper">
                    <h3>ğŸ’¬ ì˜í™” í›„ê¸°</h3>

                    <textarea id="commentInput" placeholder="ì´ ì˜í™”ì— ëŒ€í•œ ê°ìƒí‰ì„ ë‚¨ê²¨ì£¼ì„¸ìš”..."></textarea>
                    
                    <div style="text-align: right;">
                        <button id="commentSubmitBtn" onclick="postComment()">ëŒ“ê¸€ ë“±ë¡</button>
                    </div>

                    <div id="commentList" style="margin-top:12px;"></div>
                </div>
            </div>
            
        </div>
    </div>
</div>

<script src="/js/app.js"></script>

</body>
</html>